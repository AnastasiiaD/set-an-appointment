{"ast":null,"code":"import _classCallCheck from \"/Users/admin/training/get-news/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/admin/training/get-news/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/admin/training/get-news/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/admin/training/get-news/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/admin/training/get-news/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/admin/training/get-news/src/common/NotificationMessage/NotificationMessage.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Segment } from \"semantic-ui-react\";\nimport { COLORS } from \"./../../constants\";\nimport { removeNotification as _removeNotification } from \"./../../actions/notificationActions\";\n\nvar NotificationMessage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NotificationMessage, _Component);\n\n  function NotificationMessage(props) {\n    var _this;\n\n    _classCallCheck(this, NotificationMessage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NotificationMessage).call(this, props));\n\n    _this.startTimer = function () {\n      _this.timer = setTimeout(_this.handleRemoveNotification, 4000);\n    };\n\n    _this.stopTimer = function () {\n      clearTimeout(_this.timer);\n    };\n\n    _this.handleRemoveNotification = function () {\n      _this.props.removeNotification();\n    };\n\n    _this.state = {};\n    _this.timer = null;\n    return _this;\n  }\n\n  _createClass(NotificationMessage, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevState) {\n      if (prevState.notifications.length !== this.state.notifications.length && !!this.state.notifications.length) {\n        if (this.timer) {\n          this.stopTimer();\n        }\n\n        this.startTimer();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var notifications = this.state.notifications;\n      if (!notifications || notifications.length === 0) return null;\n      return React.createElement(\"section\", {\n        className: \"notifications-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, notifications.map(function (item, index) {\n        return React.createElement(Segment, {\n          inverted: true,\n          color: COLORS.YELLOW,\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, item);\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if (props.notifications && props.notifications.length !== state.notifications) {\n        return {\n          notifications: props.notifications\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return NotificationMessage;\n}(Component);\n\n;\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var notifications = _ref.notifications;\n  return {\n    notifications: notifications.notifications\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    removeNotification: function removeNotification() {\n      return dispatch(_removeNotification());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NotificationMessage);","map":{"version":3,"sources":["/Users/admin/training/get-news/src/common/NotificationMessage/NotificationMessage.js"],"names":["React","Component","connect","Segment","COLORS","removeNotification","NotificationMessage","props","startTimer","timer","setTimeout","handleRemoveNotification","stopTimer","clearTimeout","state","prevState","notifications","length","map","item","index","YELLOW","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,kBAAkB,IAAlBA,mBAAT,QAAmC,qCAAnC;;IAGMC,mB;;;;;AACF,+BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,6FAAMA,KAAN;;AADe,UAwBnBC,UAxBmB,GAwBN,YAAM;AACf,YAAKC,KAAL,GAAaC,UAAU,CAAC,MAAKC,wBAAN,EAAgC,IAAhC,CAAvB;AACH,KA1BkB;;AAAA,UA4BnBC,SA5BmB,GA4BP,YAAM;AACdC,MAAAA,YAAY,CAAC,MAAKJ,KAAN,CAAZ;AACH,KA9BkB;;AAAA,UAgCnBE,wBAhCmB,GAgCQ,YAAM;AAC7B,YAAKJ,KAAL,CAAWF,kBAAX;AACH,KAlCkB;;AAGf,UAAKS,KAAL,GAAa,EAAb;AACA,UAAKL,KAAL,GAAa,IAAb;AAJe;AAKlB;;;;uCAUkBM,S,EAAU;AACzB,UAAGA,SAAS,CAACC,aAAV,CAAwBC,MAAxB,KAAmC,KAAKH,KAAL,CAAWE,aAAX,CAAyBC,MAA5D,IAAsE,CAAC,CAAC,KAAKH,KAAL,CAAWE,aAAX,CAAyBC,MAApG,EAA2G;AACvG,YAAG,KAAKR,KAAR,EAAe;AACX,eAAKG,SAAL;AACH;;AACD,aAAKJ,UAAL;AACH;AACJ;;;6BAcQ;AAAA,UACGQ,aADH,GACqB,KAAKF,KAD1B,CACGE,aADH;AAGL,UAAG,CAACA,aAAD,IAAkBA,aAAa,CAACC,MAAd,KAAyB,CAA9C,EAAiD,OAAO,IAAP;AAEjD,aACI;AAAS,QAAA,SAAS,EAAC,uBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEQD,aAAa,CAACE,GAAd,CAAmB,UAACC,IAAD,EAAOC,KAAP;AAAA,eACd,oBAAC,OAAD;AAAS,UAAA,QAAQ,MAAjB;AAAkB,UAAA,KAAK,EAAEhB,MAAM,CAACiB,MAAhC;AAAwC,UAAA,GAAG,EAAED,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqDD,IAArD,CADc;AAAA,OAAnB,CAFR,CADJ;AASH;;;6CA3C+BZ,K,EAAOO,K,EAAO;AAC1C,UAAGP,KAAK,CAACS,aAAN,IAAuBT,KAAK,CAACS,aAAN,CAAoBC,MAApB,KAA+BH,KAAK,CAACE,aAA/D,EAA8E;AAC1E,eAAO;AAAEA,UAAAA,aAAa,EAAET,KAAK,CAACS;AAAvB,SAAP;AACH;;AAED,aAAO,IAAP;AACH;;;;EAd6Bf,S;;AAoDjC;;AAGD,IAAMqB,eAAe,GAAG,SAAlBA,eAAkB;AAAA,MAAGN,aAAH,QAAGA,aAAH;AAAA,SAAwB;AAC5CA,IAAAA,aAAa,EAAEA,aAAa,CAACA;AADe,GAAxB;AAAA,CAAxB;;AAGA,IAAMO,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SAAK;AACpCnB,IAAAA,kBAAkB,EAAE;AAAA,aAAMmB,QAAQ,CAACnB,mBAAkB,EAAnB,CAAd;AAAA;AADgB,GAAL;AAAA,CAAnC;;AAIA,eAAeH,OAAO,CAACoB,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CjB,mBAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Segment } from \"semantic-ui-react\";\nimport { COLORS } from \"./../../constants\";\nimport { removeNotification } from \"./../../actions/notificationActions\";\n\n\nclass NotificationMessage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {};\n        this.timer = null;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        if(props.notifications && props.notifications.length !== state.notifications) {\n            return { notifications: props.notifications };\n        }\n\n        return null;\n    }\n\n    componentDidUpdate(prevState){\n        if(prevState.notifications.length !== this.state.notifications.length && !!this.state.notifications.length){\n            if(this.timer) {\n                this.stopTimer();\n            }\n            this.startTimer();\n        }\n    }\n\n    startTimer = () => {\n        this.timer = setTimeout(this.handleRemoveNotification, 4000);\n    };\n\n    stopTimer = () => {\n        clearTimeout(this.timer);\n    };\n\n    handleRemoveNotification = () => {\n        this.props.removeNotification();\n    };\n\n    render() {\n        const { notifications } = this.state;\n\n        if(!notifications || notifications.length === 0) return null;\n\n        return (\n            <section className=\"notifications-wrapper\">\n                {\n                    notifications.map( (item, index) =>\n                        (<Segment inverted color={COLORS.YELLOW} key={index}>{item}</Segment>)\n                    )\n                }\n            </section>\n        );\n    }\n};\n\n\nconst mapStateToProps = ({ notifications }) => ({\n    notifications: notifications.notifications,\n});\nconst mapDispatchToProps = dispatch => ({\n    removeNotification: () => dispatch(removeNotification()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NotificationMessage);"]},"metadata":{},"sourceType":"module"}