{"ast":null,"code":"import _defineProperty from \"/Users/admin/training/get-news/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/admin/training/get-news/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/admin/training/get-news/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/admin/training/get-news/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/admin/training/get-news/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/admin/training/get-news/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/admin/training/get-news/src/route/signin/Signin.js\";\nimport React, { Component } from \"react\";\nimport { Button, Form, Grid, Header, Icon, Message, Segment, Dimmer, Loader } from \"semantic-ui-react\";\nimport { COLORS, ROUTES, SIZES } from \"../../constants\";\nimport apiHelper from \"../../utils/UiApiHelper\";\nimport { connect } from \"react-redux\";\nimport { setWhetherIsValid } from \"./../../actions/tokenActions\";\n\nvar Signin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Signin, _Component);\n\n  function Signin(props) {\n    var _this;\n\n    _classCallCheck(this, Signin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Signin).call(this, props));\n\n    _this.handleLogin = function () {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n\n      if (!email || !password) {\n        console.error(\"put info in fields\");\n        return;\n      }\n\n      _this.setState({\n        isLoading: true\n      });\n\n      apiHelper.loginUser(email, password).then(function (res) {\n        var history = _this.props.history;\n        history.push(ROUTES.HOME);\n      }).catch(function (err) {\n        console.log(err);\n      }).finally(function () {\n        _this.setState({\n          isLoading: false\n        });\n\n        _this.props.checkToken();\n      });\n    };\n\n    _this.handleFieldChange = function (e, type) {\n      var value = e.target.value;\n\n      _this.setState(_defineProperty({}, type, value));\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(Signin, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var history = this.props.history;\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          isLoading = _this$state2.isLoading;\n      return React.createElement(\"section\", {\n        className: \"standard-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        textAlign: \"center\",\n        style: {\n          height: \"100vh\"\n        },\n        verticalAlign: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        style: {\n          maxWidth: 450\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Header, {\n        as: \"h2\",\n        color: COLORS.TEAL,\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"share square\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), \" Log-in to your account\"), React.createElement(Form, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Segment, {\n        stacked: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, isLoading && React.createElement(Dimmer, {\n        active: true,\n        inverted: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        inverted: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Loading\")), React.createElement(Form.Input, {\n        fluid: true,\n        icon: \"user\",\n        iconPosition: \"left\",\n        placeholder: \"E-mail address\",\n        value: email,\n        onChange: function onChange(e) {\n          return _this2.handleFieldChange(e, \"email\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        fluid: true,\n        icon: \"lock\",\n        iconPosition: \"left\",\n        placeholder: \"Password\",\n        type: \"password\",\n        value: password,\n        onChange: function onChange(e) {\n          return _this2.handleFieldChange(e, \"password\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(Button, {\n        color: COLORS.TEAL,\n        fluid: true,\n        size: SIZES.BIG,\n        onClick: this.handleLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Login\"))), React.createElement(Message, {\n        warning: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"New to us?\", React.createElement(Button, {\n        color: COLORS.TEAL,\n        size: SIZES.SMALL,\n        onClick: function onClick() {\n          return history.push(ROUTES.SIGNUP);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Sign Up\")))));\n    }\n  }]);\n\n  return Signin;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var token = _ref.token;\n  return {\n    token: token\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    checkToken: function checkToken() {\n      return dispatch(setWhetherIsValid());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signin);","map":{"version":3,"sources":["/Users/admin/training/get-news/src/route/signin/Signin.js"],"names":["React","Component","Button","Form","Grid","Header","Icon","Message","Segment","Dimmer","Loader","COLORS","ROUTES","SIZES","apiHelper","connect","setWhetherIsValid","Signin","props","handleLogin","state","email","password","console","error","setState","isLoading","loginUser","then","res","history","push","HOME","catch","err","log","finally","checkToken","handleFieldChange","e","type","value","target","height","maxWidth","TEAL","BIG","SMALL","SIGNUP","mapStateToProps","token","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Form, Grid, Header, Icon, Message, Segment, Dimmer, Loader } from \"semantic-ui-react\";\nimport {COLORS, ROUTES, SIZES} from \"../../constants\";\nimport apiHelper from \"../../utils/UiApiHelper\";\nimport { connect } from \"react-redux\";\nimport { setWhetherIsValid } from \"./../../actions/tokenActions\";\n\nclass Signin extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            email: \"\",\n            password: \"\",\n\n            isLoading: false,\n        };\n    }\n\n    handleLogin = () => {\n        const { email, password } = this.state;\n\n        if(!email || !password) {\n            console.error(\"put info in fields\");\n            return;\n        }\n        this.setState({isLoading: true});\n\n        apiHelper.loginUser(email, password)\n            .then(res => {\n                const { history } = this.props;\n                history.push(ROUTES.HOME);\n            }).catch(err => {\n                console.log(err);\n            }).finally(() => {\n                this.setState({ isLoading: false });\n                this.props.checkToken();\n            });\n    };\n\n    handleFieldChange = (e, type) => {\n        const { value } = e.target;\n        this.setState({ [type]: value});\n    };\n\n    render() {\n        const { history } = this.props;\n        const { email, password, isLoading } = this.state;\n\n        return (\n            <section className=\"standard-wrapper\">\n                <Grid textAlign=\"center\" style={{height: \"100vh\"}} verticalAlign=\"middle\">\n                    <Grid.Column style={{maxWidth: 450}}>\n                        <Header as=\"h2\" color={COLORS.TEAL} textAlign=\"center\">\n                            <Icon name=\"share square\"/> Log-in to your account\n                        </Header>\n                        <Form size=\"large\">\n                            <Segment stacked>\n                                {isLoading && (\n                                    <Dimmer active inverted>\n                                        <Loader inverted>Loading</Loader>\n                                    </Dimmer>\n                                )}\n                                <Form.Input\n                                    fluid\n                                    icon=\"user\"\n                                    iconPosition=\"left\"\n                                    placeholder=\"E-mail address\"\n                                    value={email}\n                                    onChange={e => this.handleFieldChange(e, \"email\")} />\n                                <Form.Input\n                                    fluid\n                                    icon=\"lock\"\n                                    iconPosition=\"left\"\n                                    placeholder=\"Password\"\n                                    type=\"password\"\n                                    value={password}\n                                    onChange={e => this.handleFieldChange(e, \"password\")} />\n\n                                <Button color={COLORS.TEAL} fluid size={SIZES.BIG} onClick={this.handleLogin}>\n                                    Login\n                                </Button>\n                            </Segment>\n                        </Form>\n                        <Message warning>\n                            New to us?\n                            <Button\n                                color={COLORS.TEAL}\n                                size={SIZES.SMALL}\n                                onClick={() => history.push(ROUTES.SIGNUP)}>\n                                Sign Up\n                            </Button>\n                        </Message>\n                    </Grid.Column>\n                </Grid>\n            </section>\n        );\n    }\n}\n\nconst mapStateToProps = ({token}) => ({\n    token,\n});\nconst mapDispatchToProps = dispatch => ({\n    checkToken: () => dispatch(setWhetherIsValid())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signin);\n"]},"metadata":{},"sourceType":"module"}